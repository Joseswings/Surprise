<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surpriseeeeeeee</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }
        
        .container {
            text-align: center;
            position: relative;
        }
        
        /* Botón de música */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .music-control:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .music-control.playing {
            animation: pulse-music 2s infinite;
        }
        
        @keyframes pulse-music {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }
            50% {
                box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
            }
        }
        
        .music-icon {
            font-size: 24px;
            color: white;
        }
        
        /* Instrucción inicial para el sonido */
        .sound-instruction {
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
            color: #764ba2;
            animation: bounce 2s infinite;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        .gift-box {
            width: 200px;
            height: 200px;
            position: relative;
            cursor: pointer;
            margin: 0 auto;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        
        .gift-box:hover {
            transform: scale(1.05);
        }
        
        .box-body {
            width: 200px;
            height: 150px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            position: absolute;
            bottom: 0;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .box-lid {
            width: 210px;
            height: 30px;
            background: linear-gradient(135deg, #ff8e53, #ff6b6b);
            position: absolute;
            top: 120px;
            left: -5px;
            border-radius: 5px;
            transition: all 0.5s;
            transform-origin: bottom;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .box-lid.open {
            transform: rotateX(-120deg);
            top: 100px;
        }
        
        .ribbon {
            width: 30px;
            height: 200px;
            background: gold;
            position: absolute;
            left: 85px;
            opacity: 0.8;
        }
        
        .ribbon-horizontal {
            width: 200px;
            height: 30px;
            background: gold;
            position: absolute;
            top: 85px;
            opacity: 0.8;
        }
        
        .bow {
            width: 60px;
            height: 60px;
            background: gold;
            position: absolute;
            top: 60px;
            left: 70px;
            border-radius: 50%;
            opacity: 0.9;
        }
        
        .flowers-container {
            position: absolute;
            width: 200px;
            height: 200px;
            top: 0;
            left: 0;
            display: none;
        }
        
        .flowers-container.show {
            display: block;
        }
        
        .flower {
            position: absolute;
            animation: float 3s ease-in-out infinite;
            opacity: 0;
        }
        
        .flower.bloom {
            animation: bloom 1s forwards, float 3s ease-in-out infinite 1s;
        }
        
        @keyframes bloom {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.2) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(1) rotate(360deg);
                opacity: 1;
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }
        
        .message {
            margin-top: 50px;
            color: white;
            font-size: 24px;
            opacity: 0;
            transition: opacity 1s;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .message.show {
            opacity: 1;
        }
        
        .instruction {
            color: white;
            margin-bottom: 20px;
            font-size: 18px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.6;
            }
        }
        
        .heart {
            color: red;
            animation: heartbeat 1.5s ease-in-out infinite;
            display: inline-block;
        }
        
        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }
        
        /* Notas musicales flotantes */
        .musical-note {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.6);
            animation: float-note 4s linear infinite;
            pointer-events: none;
        }
        
        @keyframes float-note {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Control de música -->
    <div class="music-control" id="musicControl">
        <span class="music-icon" id="musicIcon">🔇</span>
    </div>
    
    <div class="sound-instruction" id="soundInstruction">
        Activalooooo :)
    </div>
    
    <!-- Contenedor principal -->
    <div class="container">
        <p class="instruction">Toca el regalitooo</p>
        
        <div class="gift-box" id="giftBox">
            <div class="box-lid" id="lid"></div>
            <div class="box-body"></div>
            <div class="ribbon"></div>
            <div class="ribbon-horizontal"></div>
            <div class="bow"></div>
            
            <div class="flowers-container" id="flowers">
                <!-- Las flores se generarán con JavaScript -->
            </div>
        </div>
        
        <div class="message" id="message">
            <p>¡Flores amarillas para tiiiiiii! </p>
            <p>Porque iluminas mi vida como el sol <span class="heart">💛</span></p>
            <p style="font-size: 16px; margin-top: 10px; opacity: 0.8;">Y porque no pude estar en persona para dartelas      😭 Lo sientooooooooooo</p>
            <p style="font-size: 16px; margin-top: 10px; opacity: 0.8;">(Te amo)</p>
        </div>
    </div>
    
    <!-- Audio (música romántica) -->
    <audio id="backgroundMusic" loop>
        <!-- Opción 1: Música romántica libre de derechos -->
        <source src="https://files.catbox.moe/finz22.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        const giftBox = document.getElementById('giftBox');
        const lid = document.getElementById('lid');
        const flowers = document.getElementById('flowers');
        const message = document.getElementById('message');
        const musicControl = document.getElementById('musicControl');
        const musicIcon = document.getElementById('musicIcon');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const soundInstruction = document.getElementById('soundInstruction');
        
        let isOpen = false;
        let isMusicPlaying = false;
        
        // Configurar volumen inicial
        backgroundMusic.volume = 0.5;
        
        // Control de música
        musicControl.addEventListener('click', function() {
            if (isMusicPlaying) {
                backgroundMusic.pause();
                musicIcon.textContent = '🔇';
                musicControl.classList.remove('playing');
                isMusicPlaying = false;
            } else {
                backgroundMusic.play().then(() => {
                    musicIcon.textContent = '🎵';
                    musicControl.classList.add('playing');
                    isMusicPlaying = true;
                    soundInstruction.style.display = 'none';
                    createMusicalNotes();
                }).catch(error => {
                    console.log('Error al reproducir música:', error);
                });
            }
        });
        
        // Crear flores amarillas
        function createFlowers() {
            const flowerEmojis = ['🌻', '🌼','🌟', '✨', '🌻', '🌼'];
            const flowersContainer = document.getElementById('flowers');
            
            for (let i = 0; i < 12; i++) {
                const flower = document.createElement('div');
                flower.className = 'flower';
                flower.style.fontSize = Math.random() * 30 + 30 + 'px';
                flower.style.left = Math.random() * 150 + 25 + 'px';
                flower.style.top = Math.random() * 150 + 25 + 'px';
                flower.style.animationDelay = i * 0.1 + 's';
                flower.innerHTML = flowerEmojis[Math.floor(Math.random() * flowerEmojis.length)];
                flowersContainer.appendChild(flower);
            }
        }
        
        createFlowers();
        
        // Crear notas musicales flotantes
        function createMusicalNotes() {
            const notes = ['♪', '♫', '♬', '♩'];
            setInterval(() => {
                if (isMusicPlaying) {
                    const note = document.createElement('div');
                    note.className = 'musical-note';
                    note.textContent = notes[Math.floor(Math.random() * notes.length)];
                    note.style.left = Math.random() * window.innerWidth + 'px';
                    note.style.animationDuration = (Math.random() * 3 + 4) + 's';
                    document.body.appendChild(note);
                    
                    setTimeout(() => {
                        note.remove();
                    }, 7000);
                }
            }, 2000);
        }
        
        giftBox.addEventListener('click', function() {
            if (!isOpen) {
                lid.classList.add('open');
                flowers.classList.add('show');
                
                // Intentar reproducir música automáticamente
                if (!isMusicPlaying) {
                    backgroundMusic.play().then(() => {
                        musicIcon.textContent = '🎵';
                        musicControl.classList.add('playing');
                        isMusicPlaying = true;
                        soundInstruction.style.display = 'none';
                        createMusicalNotes();
                    }).catch(() => {
                        // Si el navegador bloquea el autoplay, mostrar instrucción
                        soundInstruction.textContent = '💛 Toca el botón de música para completar la sorpresa';
                        soundInstruction.style.animation = 'bounce 1s infinite';
                    });
                }
                
                // Animar las flores
                setTimeout(() => {
                    const allFlowers = document.querySelectorAll('.flower');
                    allFlowers.forEach((flower, index) => {
                        setTimeout(() => {
                            flower.classList.add('bloom');
                        }, index * 100);
                    });
                }, 300);
                
                // Mostrar mensaje
                setTimeout(() => {
                    message.classList.add('show');
                }, 1000);
                
                // Crear confeti
                createConfetti();
                
                isOpen = true;
            }
        });
        
        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = ['#FFD700', '#FFA500', '#FFFF00', '#FFE4B5'][Math.floor(Math.random() * 4)];
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.top = '-10px';
                confetti.style.opacity = Math.random();
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.transition = 'all 3s ease-out';
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.style.top = window.innerHeight + 'px';
                    confetti.style.transform = `rotate(${Math.random() * 720}deg)`;
                    confetti.style.opacity = '0';
                }, 100);
                
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }
        
        // Ocultar instrucción después de 10 segundos
        setTimeout(() => {
            if (!isMusicPlaying) {
                soundInstruction.style.display = 'none';
            }
        }, 10000);
    </script>
</body>

</html>
